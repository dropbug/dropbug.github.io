[{"categories":null,"content":"背景 我刚入行的时候是2013年,做企业站.给客户部署时买一台美橙互联的VPS,上去装IIS,SqlServer,.Net Framework,配环境变量,改IIS配置参数,配置数据库账户,权限等等balabala一堆事,这还只是单机应用.OMG!要是配个运维帮我做这些事多好啊!\n后来的Docker瞄准这个痛点,解决了环境不一致和重复性部署的问题.而现在的Serverless更彻底,直接隔离了IT基础设施这一环节,让开发者完全聚焦业务代码.\n应用部署方式演进  物理单机-\u003e虚拟化单机-\u003e虚拟化分布式-\u003eDocker-\u003eKubernetes-\u003eServerless\n 物理单机的时代持续了很多年,后来虚拟化流行起来之后部署方式演进的速度就大大加快了.比如国内Docker刚兴起没多久,k8s又来了,k8s还没玩转,Serverless又来了~扶我起来,我还能学!\n什么是Serverless 阿里云的解释:  函数计算是事件驱动的全托管计算服务。使用函数计算，您无需采购与管理服务器等基础设施，只需编写并上传代码。函数计算为您准备好计算资源，弹性地、可靠地运行任务，并提供日志查询、性能监控和报警等功能. 我的理解:  Serverless是一种无需关心代码运行环境的应用部署方式.开发者只需要提供代码,云服务商来负责部署.\n 为什么要用Serverless 帮助开发者隔离与业务无关的事情,使开发者更加专注.\n传统环境下开发者要关心生成环境的构建,更新,CPU/内存/磁盘/带宽的负载,日志的整理,这些与业务无关的事情分散了不少精力,特别是业务处于增长期的时候.\n而Serverless帮开发者处理了所有这些琐碎的事情,且天生自带负载均衡,按需付费,很适合应对流量波峰波谷差异巨大的场景.\n迁移Egg.js上Serverless 使用阿里云的Serverless服务,“函数计算” 有两种迁移方式,手动上传代码包 or 使用 funcraft自动发布.\n推荐使用funcraft自动发布.\n 使用npm安装funcraft  1  ~ $ npm install @alicloud/fun -g   生成发布配置文件  1  ~ $ fun deploy -y   这一步会在根目录生成一个用于部署的配置文件 template.yaml和应用启动的shell脚本 bootstrap\n配置发布目标参数  1  ~ $ fun config   按照提示，依次配置 Account ID、Access Key Id、Secret Access Key、 Default Region Name Account ID这个不是登录用户名,是阿里云分配的一串数字.id\n执行发布  1  ~ $ fun deploy   选择默认的临时域名,发布成功后阿里云会分配一个临时域名\n访问它就可以看到效果啦\n","description":"","tags":null,"title":"使用Serverless 部署一个Egg.js应用","uri":"/posts/serverless-eggjs/"}]
